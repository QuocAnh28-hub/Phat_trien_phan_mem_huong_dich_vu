<!DOCTYPE html>
<html lang="vi" ng-app="dahApp">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ÄÄƒng nháº­p â€” DAH</title>

  <!-- CSS -->
  <link rel="stylesheet" href="../style/index.css" />

  <!-- AngularJS -->
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <script src="../angular/angular.min.js"></script>
  <!-- Module + Interceptor -->
  <script>
  (function () {
    'use strict';
    angular.module('dahApp', [])
      .factory('AuthInterceptor', function () {
        return {
          request: function (cfg) {
            const t = localStorage.getItem('token');
            if (t) cfg.headers.Authorization = 'Bearer ' + t;
            return cfg;
          }
        };
      })
      .config(function ($httpProvider) {
        $httpProvider.interceptors.push('AuthInterceptor');
      });
  })();
  </script>

  <!-- Login logic -->
  <script src="../script/login.js"></script>
</head>

<body>
  <!-- Cáº£ body dÃ¹ng flex Ä‘á»ƒ cÄƒn giá»¯a -->
  <div class="login-page" ng-controller="LoginCtrl as vm">
    <section class="login-card" role="region" aria-label="Form Ä‘Äƒng nháº­p">
      <h1 class="title">ÄÄƒng nháº­p</h1>

      <form class="form" ng-submit="vm.submit($event)" autocomplete="on" novalidate>
        <!-- TÃ i khoáº£n -->
        <label class="label" for="username">TÃ i khoáº£n</label>
        <input
          id="username"
          class="input"
          type="text"
          placeholder="Nháº­p tÃ i khoáº£n"
          ng-model="vm.form.username"
          required
          autofocus
        />

        <!-- Máº­t kháº©u -->
        <label class="label" for="password">Máº­t kháº©u</label>
        <div class="password-wrapper">
          <input
            id="password"
            class="input"
            type="{{ vm.showPwd ? 'text' : 'password' }}"
            placeholder="Nháº­p máº­t kháº©u"
            ng-model="vm.form.password"
            required
          />
          <button
            type="button"
            class="btn-toggle"
            ng-attr-aria-label="{{ vm.showPwd ? 'áº¨n máº­t kháº©u' : 'Hiá»‡n máº­t kháº©u' }}"
            ng-click="vm.showPwd = !vm.showPwd">
            {{ vm.showPwd ? 'ğŸ™ˆ' : 'ğŸ‘ï¸' }}
          </button>
        </div>

        <!-- QuÃªn máº­t kháº©u -->
        <div class="row-between">
          <a href="#"
             class="forgot"
             ng-click="$event.preventDefault(); alert('Vui lÃ²ng liÃªn há»‡ Admin Ä‘á»ƒ Ä‘Æ°á»£c cáº¥p láº¡i máº­t kháº©u.');">
            QuÃªn máº­t kháº©u?
          </a>
        </div>

        <!-- NÃºt Ä‘Äƒng nháº­p -->
        <button type="submit" class="btn-submit" ng-disabled="vm.isBusy">
          {{ vm.isBusy ? 'Äang xá»­ lÃ½...' : 'ÄÄƒng nháº­p' }}
        </button>
      </form>
    </section>
  </div>
</body>
</html>
